
<!-- Post list -->
<div itemscope itemtype="http://schema.org/Blog">

    <meta itemprop="name" content="Rowan Manning's Blog"/>
    <meta itemprop="url" content="http://{{ site.data.meta.hostname }}/blog/"/>

    <div itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="Rowan Manning"/>
        <meta itemprop="url" content="http://{{ site.data.meta.hostname }}/"/>
    </div>

    <ol class="stack posts">
        {% for post in site.categories.blog limit:include.count %}

            <li class="space pad box subj subj-{{ post.subject }} post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
                {% if post.crossPost.url %}
                    <meta itemprop="url" content="{{ post.crossPost.url }}"/>
                {% else %}
                    <meta itemprop="url" content="http://{{ site.data.meta.hostname }}{{ post.url }}"/>
                {% endif %}

                {% if post.crossPost.url %}
                    <small class="cross-post-indicator">Cross-post</small>
                {% endif %}

                <h3 class="h4 post-title">
                    {% if post.crossPost.url %}
                        <a href="{{ post.crossPost.url }}" class="shh-a" itemprop="name">{{ post.title }}</a>
                    {% else %}
                        <a href="{{ post.url }}" class="shh-a" itemprop="name">{{ post.title }}</a>
                    {% endif %}
                </h3>

                <div class="smallprint space-less post-meta">
                    {% if post.crossPost.siteName %}
                        Posted on <a href="{{ post.crossPost.siteUrl }}">{{ post.crossPost.siteName }}</a>;
                    {% endif %}
                    <time itemprop="dateCreated" datetime="{{ post.date | date: '%Y-%m-%dT%H:%M:%SZ' }}">{{ post.date | date: '%d %B %Y' }}</time>
                    {% if post.tags != empty %}
                        in <span itemprop="keywords">{{ post.tags | join: ', ' }}</span>
                    {% endif %}
                </div>

                <p class="cramp post-summary" itemprop="description">
                    {{ post.description }}
                    {% if post.crossPost.url %}
                        <a href="{{ post.crossPost.url }}">{% if post.cta %}{{ post.cta }}{% else %}Read more{% endif %}</a>.
                    {% else %}
                        <a href="{{ post.url }}">{% if post.cta %}{{ post.cta }}{% else %}Read more{% endif %}</a>.
                    {% endif %}
                </p>

            </li>

        {% endfor %}
    </ol>

</div>
